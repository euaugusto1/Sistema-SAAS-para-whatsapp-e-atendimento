# =======================
# CONFIGURAÇÃO SUPABASE - PRODUÇÃO COOLIFY
# =======================

# Database (Supabase PostgreSQL)
# Connection Pooling - Use para runtime (melhor performance)
DATABASE_URL="postgresql://postgres.xnazrsweosmopqwsrtvp:7JHX6t.i_ipT%23Qp@aws-1-us-east-2.pooler.supabase.com:6543/postgres?pgbouncer=true&sslmode=require"

# Direct Connection - Use para migrations (Prisma precisa)
DIRECT_URL="postgresql://postgres.xnazrsweosmopqwsrtvp:7JHX6t.i_ipT%23Qp@aws-1-us-east-2.pooler.supabase.com:5432/postgres?sslmode=require"

# =======================
# REDIS (Container Local no Coolify)
# =======================
REDIS_URL=redis://:SUA_SENHA_REDIS@redis:6379
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=SUA_SENHA_REDIS

# =======================
# JWT - SEGURANÇA
# =======================
# IMPORTANTE: GERE NOVOS SECRETS FORTES PARA PRODUÇÃO!
# Use: openssl rand -base64 48
JWT_SECRET=change_this_to_a_strong_secret_in_production_min_32_chars
JWT_REFRESH_SECRET=change_this_refresh_secret_in_production_min_32_chars
JWT_ACCESS_TTL=15m
JWT_REFRESH_TTL=7d

# =======================
# WHATSAPP - EVOLUTION API
# =======================
EVOLUTION_API_URL=https://dev.evo.sistemabrasil.online
EVOLUTION_API_KEY=9B6P43RdEvTqlS6gEKHJY08LGEOSNIDp

# =======================
# APLICAÇÃO
# =======================
PORT=3001
NODE_ENV=production

# =======================
# FRONTEND (Coolify URL)
# =======================
FRONTEND_URL=https://dcsgog88ccgsoc40848ocg0w.projetojm.org
NEXT_PUBLIC_API_URL=https://dcsgog88ccgsoc40848ocg0w.projetojm.org/api

# =======================
# SEGURANÇA
# =======================
ALLOWED_ORIGINS=https://dcsgog88ccgsoc40848ocg0w.projetojm.org
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
STRICT_RATE_LIMIT_WINDOW_MS=60000
STRICT_RATE_LIMIT_MAX_REQUESTS=5

# =======================
# ENCRYPTION
# =======================
# IMPORTANTE: GERE UM NOVO PARA PRODUÇÃO!
# Use: openssl rand -hex 16
ENCRYPTION_KEY=change_me_to_32_characters_key_
SESSION_SECRET=change_me_to_a_strong_session_secret

# =======================
# PAGAMENTOS - STRIPE (OPCIONAL)
# =======================
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret

# =======================
# PAGAMENTOS - MERCADOPAGO (OPCIONAL)
# =======================
MERCADOPAGO_ACCESS_TOKEN=your_mercadopago_access_token
MERCADOPAGO_PUBLIC_KEY=your_mercadopago_public_key
MERCADOPAGO_BACK_URL=https://dcsgog88ccgsoc40848ocg0w.projetojm.org/payment/callback
